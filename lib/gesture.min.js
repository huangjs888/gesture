"use strict";function t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Object.defineProperty(exports,"__esModule",{value:!0});var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r=function(t){return t&&t.Math==Math&&t},i=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||e||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},a=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),u=Function.prototype,s=u.apply,p=u.call,c="object"==typeof Reflect&&Reflect.apply||(a?p.bind(s):function(){return p.apply(s,arguments)}),l=a,f=Function.prototype,h=f.call,v=l&&f.bind.bind(h,h),d=l?v:function(t){return function(){return h.apply(t,arguments)}},m=d,g=m({}.toString),y=m("".slice),_=function(t){return y(g(t),8,-1)},b=_,w=d,T=function(t){if("Function"===b(t))return w(t)},P="object"==typeof document&&document.all,E={all:P,IS_HTMLDDA:void 0===P&&void 0!==P},D=E.all,O=E.IS_HTMLDDA?function(t){return"function"==typeof t||t===D}:function(t){return"function"==typeof t},j={},M=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),S=Function.prototype.call,A=a?S.bind(S):function(){return S.apply(S,arguments)},I={},L={}.propertyIsEnumerable,X=Object.getOwnPropertyDescriptor,Y=X&&!L.call({1:2},1);I.f=Y?function(t){var e=X(this,t);return!!e&&e.enumerable}:L;var F,x,C=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=o,N=_,z=Object,R=d("".split),V=k((function(){return!z("z").propertyIsEnumerable(0)}))?function(t){return"String"==N(t)?R(t,""):z(t)}:z,G=function(t){return null==t},H=G,q=TypeError,B=function(t){if(H(t))throw q("Can't call method on "+t);return t},U=V,W=B,J=function(t){return U(W(t))},K=O,Q=E.all,Z=E.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:K(t)||t===Q}:function(t){return"object"==typeof t?null!==t:K(t)},$={},tt=$,et=i,nt=O,rt=function(t){return nt(t)?t:void 0},it=function(t,e){return 2>arguments.length?rt(tt[t])||rt(et[t]):tt[t]&&tt[t][e]||et[t]&&et[t][e]},ot=d({}.isPrototypeOf),at="undefined"!=typeof navigator&&navigator.userAgent+""||"",ut=i.process,st=i.Deno,pt=ut&&ut.versions||st&&st.version,ct=pt&&pt.v8;ct&&(x=(F=ct.split("."))[0]>0&&4>F[0]?1:+(F[0]+F[1])),!x&&at&&((F=at.match(/Edge\/(\d+)/))&&74>F[1]||(F=at.match(/Chrome\/(\d+)/))&&(x=+F[1]));var lt=x,ft=lt,ht=i.String,vt=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!ht(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ft&&41>ft})),dt=vt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,mt=it,gt=O,yt=ot,_t=Object,bt=dt?function(t){return"symbol"==typeof t}:function(t){var e=mt("Symbol");return gt(e)&&yt(e.prototype,_t(t))},wt=String,Tt=function(t){try{return wt(t)}catch(t){return"Object"}},Pt=O,Et=Tt,Dt=TypeError,Ot=function(t){if(Pt(t))return t;throw Dt(Et(t)+" is not a function")},jt=Ot,Mt=G,St=A,At=O,It=Z,Lt=TypeError,Xt={exports:{}},Yt=i,Ft=Object.defineProperty,xt="__core-js_shared__",Ct=i[xt]||function(t,e){try{Ft(Yt,t,{value:e,configurable:!0,writable:!0})}catch(n){Yt[t]=e}return e}(xt,{}),kt=Ct;(Xt.exports=function(t,e){return kt[t]||(kt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.32.0",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Nt=Xt.exports,zt=B,Rt=Object,Vt=function(t){return Rt(zt(t))},Gt=Vt,Ht=d({}.hasOwnProperty),qt=Object.hasOwn||function(t,e){return Ht(Gt(t),e)},Bt=d,Ut=0,Wt=Math.random(),Jt=Bt(1..toString),Kt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Jt(++Ut+Wt,36)},Qt=qt,Zt=Kt,$t=vt,te=dt,ee=i.Symbol,ne=Nt("wks"),re=te?ee.for||ee:ee&&ee.withoutSetter||Zt,ie=function(t){return Qt(ne,t)||(ne[t]=$t&&Qt(ee,t)?ee[t]:re("Symbol."+t)),ne[t]},oe=A,ae=Z,ue=bt,se=function(t,e){var n=t[e];return Mt(n)?void 0:jt(n)},pe=function(t,e){var n,r;if("string"===e&&At(n=t.toString)&&!It(r=St(n,t)))return r;if(At(n=t.valueOf)&&!It(r=St(n,t)))return r;if("string"!==e&&At(n=t.toString)&&!It(r=St(n,t)))return r;throw Lt("Can't convert object to primitive value")},ce=TypeError,le=ie("toPrimitive"),fe=function(t,e){if(!ae(t)||ue(t))return t;var n,r=se(t,le);if(r){if(void 0===e&&(e="default"),n=oe(r,t,e),!ae(n)||ue(n))return n;throw ce("Can't convert object to primitive value")}return void 0===e&&(e="number"),pe(t,e)},he=bt,ve=function(t){var e=fe(t,"string");return he(e)?e:e+""},de=Z,me=i.document,ge=de(me)&&de(me.createElement),ye=function(t){return ge?me.createElement(t):{}},_e=ye,be=!M&&!o((function(){return 7!=Object.defineProperty(_e("div"),"a",{get:function(){return 7}}).a})),we=A,Te=I,Pe=C,Ee=J,De=ve,Oe=qt,je=be,Me=Object.getOwnPropertyDescriptor;j.f=M?Me:function(t,e){if(t=Ee(t),e=De(e),je)try{return Me(t,e)}catch(t){}if(Oe(t,e))return Pe(!we(Te.f,t,e),t[e])};var Se=o,Ae=O,Ie=/#|\.prototype\./,Le=function(t,e){var n=Ye[Xe(t)];return n==xe||n!=Fe&&(Ae(e)?Se(e):!!e)},Xe=Le.normalize=function(t){return(t+"").replace(Ie,".").toLowerCase()},Ye=Le.data={},Fe=Le.NATIVE="N",xe=Le.POLYFILL="P",Ce=Le,ke=Ot,Ne=a,ze=T(T.bind),Re=function(t,e){return ke(t),void 0===e?t:Ne?ze(t,e):function(){return t.apply(e,arguments)}},Ve={},Ge=M&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),He=Z,qe=String,Be=TypeError,Ue=function(t){if(He(t))return t;throw Be(qe(t)+" is not an object")},We=be,Je=Ue,Ke=ve,Qe=TypeError,Ze=Object.defineProperty,$e=Object.getOwnPropertyDescriptor,tn="enumerable",en="configurable",nn="writable";Ve.f=M?Ge?function(t,e,n){if(Je(t),e=Ke(e),Je(n),"function"==typeof t&&"prototype"===e&&"value"in n&&nn in n&&!n[nn]){var r=$e(t,e);r&&r[nn]&&(t[e]=n.value,n={configurable:en in n?n[en]:r[en],enumerable:tn in n?n[tn]:r[tn],writable:!1})}return Ze(t,e,n)}:Ze:function(t,e,n){if(Je(t),e=Ke(e),Je(n),We)try{return Ze(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Qe("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var rn=Ve,on=C,an=i,un=c,sn=T,pn=O,cn=j.f,ln=Ce,fn=$,hn=Re,vn=M?function(t,e,n){return rn.f(t,e,on(1,n))}:function(t,e,n){return t[e]=n,t},dn=qt,mn=function(t){var e=function(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return un(t,this,arguments)};return e.prototype=t.prototype,e},gn=function(t,e){var n,r,i,o,a,u,s,p,c,l=t.target,f=t.global,h=t.stat,v=t.proto,d=f?an:h?an[l]:(an[l]||{}).prototype,m=f?fn:fn[l]||vn(fn,l,{})[l],g=m.prototype;for(o in e)r=!(n=ln(f?o:l+(h?".":"#")+o,t.forced))&&d&&dn(d,o),u=m[o],r&&(s=t.dontCallGetSet?(c=cn(d,o))&&c.value:d[o]),a=r&&s?s:e[o],r&&typeof u==typeof a||(p=t.bind&&r?hn(a,an):t.wrap&&r?mn(a):v&&pn(a)?sn(a):a,(t.sham||a&&a.sham||u&&u.sham)&&vn(p,"sham",!0),vn(m,o,p),v&&(dn(fn,i=l+"Prototype")||vn(fn,i,{}),vn(fn[i],o,a),t.real&&g&&(n||!g[o])&&vn(g,o,a)))},yn={},_n=Math.ceil,bn=Math.floor,wn=Math.trunc||function(t){var e=+t;return(e>0?bn:_n)(e)},Tn=function(t){var e=+t;return e!=e||0===e?0:wn(e)},Pn=Tn,En=Math.max,Dn=Math.min,On=function(t,e){var n=Pn(t);return 0>n?En(n+e,0):Dn(n,e)},jn=Tn,Mn=Math.min,Sn=function(t){return t>0?Mn(jn(t),9007199254740991):0},An=function(t){return Sn(t.length)},In=J,Ln=On,Xn=An,Yn=function(t){return function(e,n,r){var i,o=In(e),a=Xn(o),u=Ln(r,a);if(t&&n!=n){for(;a>u;)if((i=o[u++])!=i)return!0}else for(;a>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},Fn={includes:Yn(!0),indexOf:Yn(!1)},xn={},Cn=qt,kn=J,Nn=Fn.indexOf,zn=xn,Rn=d([].push),Vn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Gn=function(t,e){var n,r=kn(t),i=0,o=[];for(n in r)!Cn(zn,n)&&Cn(r,n)&&Rn(o,n);for(;e.length>i;)Cn(r,n=e[i++])&&(~Nn(o,n)||Rn(o,n));return o},Hn=Vn,qn=Ve,Bn=Ue,Un=J,Wn=Object.keys||function(t){return Gn(t,Hn)};yn.f=M&&!Ge?Object.defineProperties:function(t,e){Bn(t);for(var n,r=Un(e),i=Wn(e),o=i.length,a=0;o>a;)qn.f(t,n=i[a++],r[n]);return t};var Jn,Kn=it("document","documentElement"),Qn=Kt,Zn=Nt("keys"),$n=Ue,tr=yn,er=Vn,nr=xn,rr=Kn,ir=ye,or="prototype",ar="script",ur=function(t){return Zn[t]||(Zn[t]=Qn(t))}("IE_PROTO"),sr=function(){},pr=function(t){return"<"+ar+">"+t+"</"+ar+">"},cr=function(t){t.write(pr("")),t.close();var e=t.parentWindow.Object;return t=null,e},lr=function(){try{Jn=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;lr="undefined"!=typeof document?document.domain&&Jn?cr(Jn):(e=ir("iframe"),n="java"+ar+":",e.style.display="none",rr.appendChild(e),e.src=n+"",(t=e.contentWindow.document).open(),t.write(pr("document.F=Object")),t.close(),t.F):cr(Jn);for(var r=er.length;r--;)delete lr[or][er[r]];return lr()};nr[ur]=!0,gn({target:"Object",stat:!0,sham:!M},{create:Object.create||function(t,e){var n;return null!==t?(sr[or]=$n(t),n=new sr,sr[or]=null,n[ur]=t):n=lr(),void 0===e?n:tr.f(n,e)}});var fr=$.Object,hr=n((function(t,e){return fr.create(t,e)})),vr=d,dr=Ot,mr=O,gr=String,yr=TypeError,_r=function(t,e,n){try{return vr(dr(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},br=Ue,wr=function(t){if("object"==typeof t||mr(t))return t;throw yr("Can't set "+gr(t)+" as a prototype")},Tr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=_r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return br(n),wr(r),e?t(n,r):n.__proto__=r,n}}():void 0);gn({target:"Object",stat:!0},{setPrototypeOf:Tr});var Pr=n($.Object.setPrototypeOf),Er=d([].slice),Dr=d,Or=Ot,jr=Z,Mr=qt,Sr=Er,Ar=a,Ir=Function,Lr=Dr([].concat),Xr=Dr([].join),Yr={},Fr=Ar?Ir.bind:function(t){var e=Or(this),n=e.prototype,r=Sr(arguments,1),i=function(){var n=Lr(r,Sr(arguments));return this instanceof i?function(t,e,n){if(!Mr(Yr,e)){for(var r=[],i=0;e>i;i++)r[i]="a["+i+"]";Yr[e]=Ir("C,a","return new C("+Xr(r,",")+")")}return Yr[e](t,n)}(e,n.length,n):e.apply(t,n)};return jr(n)&&(i.prototype=n),i};gn({target:"Function",proto:!0,forced:Function.bind!==Fr},{bind:Fr});var xr=$,Cr=function(t){return xr[t+"Prototype"]},kr=Cr("Function").bind,Nr=ot,zr=kr,Rr=Function.prototype,Vr=n((function(t){var e=t.bind;return t===Rr||Nr(Rr,t)&&e===Rr.bind?zr:e}));function Gr(t,e){var n;return Gr=Pr?Vr(n=Pr).call(n):function(t,e){return t.__proto__=e,t},Gr(t,e)}function Hr(t,e){t.prototype=hr(e.prototype),t.prototype.constructor=t,Gr(t,e)}var qr=_,Br=Array.isArray||function(t){return"Array"==qr(t)},Ur=Br,Wr=TypeError,Jr=Object.getOwnPropertyDescriptor,Kr=M&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Ur(t)&&!Jr(t,"length").writable)throw Wr("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Qr=TypeError,Zr={};Zr[ie("toStringTag")]="z";var $r=Zr+""=="[object z]",ti=O,ei=_,ni=ie("toStringTag"),ri=Object,ii="Arguments"==ei(function(){return arguments}()),oi=$r?ei:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=ri(t),ni))?n:ii?ei(e):"Object"==(r=ei(e))&&ti(e.callee)?"Arguments":r},ai=O,ui=Ct,si=d(Function.toString);ai(ui.inspectSource)||(ui.inspectSource=function(t){return si(t)});var pi=d,ci=o,li=O,fi=oi,hi=ui.inspectSource,vi=function(){},di=[],mi=it("Reflect","construct"),gi=/^\s*(?:class|function)\b/,yi=pi(gi.exec),_i=!gi.exec(vi),bi=function(t){if(!li(t))return!1;try{return mi(vi,di,t),!0}catch(t){return!1}},wi=function(t){if(!li(t))return!1;switch(fi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return _i||!!yi(gi,hi(t))}catch(t){return!0}};wi.sham=!0;var Ti=!mi||ci((function(){var t;return bi(bi.call)||!bi(Object)||!bi((function(){t=!0}))||t}))?wi:bi,Pi=Br,Ei=Ti,Di=Z,Oi=ie("species"),ji=Array,Mi=function(t){var e;return Pi(t)&&(Ei(e=t.constructor)&&(e===ji||Pi(e.prototype))||Di(e)&&null===(e=e[Oi]))&&(e=void 0),void 0===e?ji:e},Si=function(t,e){return new(Mi(t))(0===e?0:e)},Ai=ve,Ii=Ve,Li=C,Xi=function(t,e,n){var r=Ai(e);r in t?Ii.f(t,r,Li(0,n)):t[r]=n},Yi=Tt,Fi=TypeError,xi=o,Ci=lt,ki=ie("species"),Ni=function(t){return Ci>=51||!xi((function(){var e=[];return(e.constructor={})[ki]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},zi=gn,Ri=Vt,Vi=On,Gi=Tn,Hi=An,qi=Kr,Bi=function(t){if(t>9007199254740991)throw Qr("Maximum allowed index exceeded");return t},Ui=Si,Wi=Xi,Ji=function(t,e){if(!delete t[e])throw Fi("Cannot delete property "+Yi(e)+" of "+Yi(t))},Ki=Ni("splice"),Qi=Math.max,Zi=Math.min;zi({target:"Array",proto:!0,forced:!Ki},{splice:function(t,e){var n,r,i,o,a,u,s=Ri(this),p=Hi(s),c=Vi(t,p),l=arguments.length;for(0===l?n=r=0:1===l?(n=0,r=p-c):(n=l-2,r=Zi(Qi(Gi(e),0),p-c)),Bi(p+n-r),i=Ui(s,r),o=0;r>o;o++)(a=c+o)in s&&Wi(i,o,s[a]);if(i.length=r,r>n){for(o=c;p-r>o;o++)u=o+n,(a=o+r)in s?s[u]=s[a]:Ji(s,u);for(o=p;o>p-r+n;o--)Ji(s,o-1)}else if(n>r)for(o=p-r;o>c;o--)u=o+n-1,(a=o+r-1)in s?s[u]=s[a]:Ji(s,u);for(o=0;n>o;o++)s[o+c]=arguments[o+2];return qi(s,p-r+n),i}});var $i=Cr("Array").splice,to=ot,eo=$i,no=Array.prototype,ro=n((function(t){var e=t.splice;return t===no||to(no,t)&&e===no.splice?eo:e})),io=function(){function t(){this.events={},this.events={}}var e=t.prototype;return e.one=function(t,e,n){var r=this,i="function"==typeof e?function(){for(var o=arguments.length,a=Array(o),u=0;o>u;u++)a[u]=arguments[u];e.apply(null,a),r.off(t,i,n)}:e;this.on(t,i,n)},e.on=function(t,e,n){var r=this.events[t]||{pool:[],single:-1};if("function"==typeof e)if(n)-1===r.single?r.single=r.pool.push(e)-1:r.pool[r.single]=e;else{for(var i=!0,o=0,a=r.pool.length;a>o;o++)if(r.pool[o]===e&&o!==r.single){i=!1;break}i&&r.pool.push(e)}else if(n&&-1!==r.single){var u;ro(u=r.pool).call(u,r.single,1),r.single=-1}this.events[t]=r},e.off=function(t,e,n){if(void 0===t)this.events={};else if(void 0===e)delete this.events[t];else if(n){var r,i=this.events[t];if(i&&-1!==i.single)ro(r=i.pool).call(r,i.single,1),i.single=-1}else{var o=this.events[t];if(o)for(var a=o.pool.length-1;a>=0;a--)if(o.pool[a]===e&&a!==o.single){var u;ro(u=o.pool).call(u,a,1);break}}},e.emit=function(t,e){var n=this.events[t];if(n)for(var r=0,i=n.pool.length;i>r;r++){var o=n.pool[r];if("function"==typeof o)if(!1===o.call(null,e,t))break}},t}(),oo=Re,ao=V,uo=Vt,so=An,po=Si,co=d([].push),lo=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,u=5==t||o;return function(s,p,c,l){for(var f,h,v=uo(s),d=ao(v),m=oo(p,c),g=so(d),y=0,_=l||po,b=e?_(s,g):n||a?_(s,0):void 0;g>y;y++)if((u||y in d)&&(h=m(f=d[y],y,v),t))if(e)b[y]=h;else if(h)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:co(b,f)}else switch(t){case 4:return!1;case 7:co(b,f)}return o?-1:r||i?i:b}},fo={forEach:lo(0),map:lo(1),filter:lo(2),some:lo(3),every:lo(4),find:lo(5),findIndex:lo(6),filterReject:lo(7)},ho=fo.map;gn({target:"Array",proto:!0,forced:!Ni("map")},{map:function(t){return ho(this,t,arguments.length>1?arguments[1]:void 0)}});var vo=Cr("Array").map,mo=ot,go=vo,yo=Array.prototype,_o=n((function(t){var e=t.map;return t===yo||mo(yo,t)&&e===yo.map?go:e})),bo=fo.filter;gn({target:"Array",proto:!0,forced:!Ni("filter")},{filter:function(t){return bo(this,t,arguments.length>1?arguments[1]:void 0)}});var wo=Cr("Array").filter,To=ot,Po=wo,Eo=Array.prototype,Do=n((function(t){var e=t.filter;return t===Eo||To(Eo,t)&&e===Eo.filter?Po:e})),Oo=gn,jo=Br,Mo=Ti,So=Z,Ao=On,Io=An,Lo=J,Xo=Xi,Yo=ie,Fo=Er,xo=Ni("slice"),Co=Yo("species"),ko=Array,No=Math.max;Oo({target:"Array",proto:!0,forced:!xo},{slice:function(t,e){var n,r,i,o=Lo(this),a=Io(o),u=Ao(t,a),s=Ao(void 0===e?a:e,a);if(jo(o)&&((Mo(n=o.constructor)&&(n===ko||jo(n.prototype))||So(n)&&null===(n=n[Co]))&&(n=void 0),n===ko||void 0===n))return Fo(o,u,s);for(r=new(void 0===n?ko:n)(No(s-u,0)),i=0;s>u;u++,i++)u in o&&Xo(r,i,o[u]);return r.length=i,r}});var zo=Cr("Array").slice,Ro=ot,Vo=zo,Go=Array.prototype,Ho=n((function(t){var e=t.slice;return t===Go||Ro(Go,t)&&e===Go.slice?Vo:e})),qo=function(t,e){for(var n=t;n&&n!==e;)n=n.parentNode;return!!n};function Bo(t,e,n){return"number"!=typeof t||n>t?e:t}function Uo(){return window.navigator.maxTouchPoints||"ontouchstart"in window.document}function Wo(t,e){if(void 0===e&&(e=!1),t.touches){var n;if(e){var r,i=_o(r=Do(Array.prototype).call(t.touches,(function(e){return qo(e.target,t.currentTarget)}))).call(r,(function(t){return{pageX:t.pageX,pageY:t.pageY,identifier:t.identifier}}));return{points:i,isFirst:t.changedTouches.length===i.length}}return{points:_o(n=Ho(Array.prototype).call(t.changedTouches||[])).call(n,(function(t){return{pageX:t.pageX,pageY:t.pageY,identifier:t.identifier}}))}}return{points:[{pageX:t.pageX,pageY:t.pageY,identifier:-1}],isFirst:e}}function Jo(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return"number"==typeof n&&"number"==typeof i&&"number"==typeof r&&"number"==typeof o?Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)):0}function Ko(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return"number"==typeof n&&"number"==typeof i&&"number"==typeof r&&"number"==typeof o?180*Math.atan2(o-r,i-n)/Math.PI:0}function Qo(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a="number"==typeof n&&"number"==typeof r,u="number"==typeof i&&"number"==typeof o;return a||u?a&&!u?[n,r]:!a&&u?[i,o]:[(n+i)/2,(r+o)/2]:[0,0]}function Zo(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];if("number"==typeof n&&"number"==typeof i&&"number"==typeof r&&"number"==typeof o){var a=n-i,u=r-o;if(a!==u)return Math.abs(u)>Math.abs(a)?r-o>0?"Up":"Down":n-i>0?"Left":"Right"}return"None"}var $o=function(t){function e(e){var n;return(n=t.call(this)||this).wheelDelay=350,n.longTapInterval=750,n.doubleTapInterval=250,n.doubleTapDistance=30,n.touchMoveDistance=3,n.swipeVelocity=.3,n.swipeDuration=100,n.raiseDuration=100,n._rotateAngle=0,n._noMouseTimer=0,n._singleTapTimer=0,n._longTapTimer=0,n._wheelTimerEnd=null,n._preventTap=!0,n._swipePoints=null,n._preventSingleTap=!0,n._preventDoubleTap=!0,n._firstPointer=null,n._pointer0=null,n._pointer1=null,n.resetOptions(e),n}Hr(e,t);var n=e.prototype;return n.resetOptions=function(t){var e=t||{},n=e.longTapInterval,r=e.doubleTapInterval,i=e.doubleTapDistance,o=e.touchMoveDistance,a=e.swipeVelocity,u=e.swipeDuration,s=e.raiseDuration;this.wheelDelay=Bo(e.wheelDelay,350,1),this.longTapInterval=Bo(n,750,1),this.doubleTapInterval=Bo(r,250,1),this.doubleTapDistance=Bo(i,30,1),this.touchMoveDistance=Bo(o,3,0),this.swipeVelocity=Bo(a,.3,0),this.swipeDuration=Bo(u,100,1),this.raiseDuration=Bo(s,100,1)},n.preventAllTap=function(t){void 0===t&&(t=!0),this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,t&&(this._firstPointer=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0)},e}(io);function ta(){this.nativeEvent||(this.preventDefault?this.preventDefault():this.returnValue=!1)}function ea(){this.stopPropagation?this.stopPropagation():this.cancelBubble=!0}function na(){this.nativeEvent?this.nativeEvent.stopImmediatePropagation&&this.nativeEvent.stopImmediatePropagation():this.stopImmediatePropagation?this.stopImmediatePropagation():ea.call(this)}function ra(t){var e=this,n={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!!Uo()&&!!t.touches},preventDefault:ta.bind(t),stopPropagation:ea.bind(t),stopImmediatePropagation:na.bind(t)},r=Wo(t,!0),i=r.points;r.isFirst?(this._wheelTimerEnd&&(clearTimeout(this._wheelTimerEnd.timer),this._wheelTimerEnd.wheelEnd(),this._wheelTimerEnd=null),this._pointer0=null,this._pointer1=null):(this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1));for(var o=0,a=i.length;a>o;++o){var u=i[o],s=[u.pageX,u.pageY],p={start:s,previous:s,current:s,identifier:u.identifier,changed:!0};this._pointer0?this._pointer1||this._pointer0.identifier===u.identifier||(this._pointer1=p):this._pointer0=p}this.preventAllTap(!1),this._swipePoints=null,this._rotateAngle=0;var c=this._pointer0,l=this._pointer1;if(l&&c)this._firstPointer=null,n.pointers=[c,l],n.getPoint=function(){return Qo(c.current,l.current)},this.emit("gestureStart",n);else{if(!c)return;n.pointers=[c],n.getPoint=function(){return c.current},this._preventTap=!1,this._longTapTimer=+setTimeout((function(){e._preventTap=!0,e._preventSingleTap=!0,e._preventDoubleTap=!0,e._longTapTimer=0,e._firstPointer=null,n.waitTime=e.longTapInterval,e.emit("longTap",n)}),this.longTapInterval);var f=this._firstPointer,h=this._singleTapTimer;h&&f&&Jo(f.current,c.current)<this.doubleTapDistance?(clearTimeout(h),this._singleTapTimer=0,this._preventSingleTap=!0,this._preventDoubleTap=!1,n.getPoint=function(){return f.current}):(this._firstPointer=c,this._preventSingleTap=!1,this._preventDoubleTap=!0)}this.emit("pointerStart",n)}function ia(t){var e={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!!Uo()&&!!t.touches},preventDefault:ta.bind(t),stopPropagation:ea.bind(t),stopImmediatePropagation:na.bind(t)};this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);for(var n=Wo(t).points,r=0,i=n.length;i>r;++r){var o=n[r],a=[o.pageX,o.pageY];this._pointer0&&this._pointer0.identifier===o.identifier?(this._pointer0.changed=!0,this._pointer0.previous=this._pointer0.current,this._pointer0.current=a):this._pointer1&&this._pointer1.identifier===o.identifier&&(this._pointer1.changed=!0,this._pointer1.previous=this._pointer1.current,this._pointer1.current=a)}var u=this._pointer0,s=this._pointer1;if(u&&Jo(u.start,u.current)>this.touchMoveDistance||s&&Jo(s.start,s.current)>this.touchMoveDistance){if(this.preventAllTap(),s&&u){e.pointers=[u,s];var p=u.start,c=u.previous,l=u.current,f=s.start,h=s.previous,v=s.current,d=Qo(l,v),m=Qo(c,h),g=Qo(p,f);e.getPoint=function(t){return"start"===t?g:"previous"===t?m:d},e.direction=Zo(m,d),e.moveDirection=Zo(g,d),e.deltaX=d[0]-m[0],e.moveX=d[0]-g[0],e.deltaY=d[1]-m[1],e.moveY=d[1]-g[1];var y=Jo(l,v),_=Jo(c,h),b=Jo(p,f);b>0&&y>0&&_>0&&(e.scale=y/_,e.moveScale=y/b);var w=Ko(l,v)-Ko(c,h);-180>w?w+=360:w>180&&(w-=360),e.angle=w,this._rotateAngle+=w,e.moveAngle=this._rotateAngle,this.emit("rotate",e),b>0&&y>0&&_>0&&this.emit("scale",e),this.emit("multiPan",e),this.emit("gestureMove",e)}else{if(!u)return;e.pointers=[u];var T=u.start,P=u.previous,E=u.current;e.getPoint=function(t){return"start"===t?T:"previous"===t?P:E},e.direction=Zo(P,E),e.moveDirection=Zo(T,E),e.deltaX=E[0]-P[0],e.moveX=E[0]-T[0],e.deltaY=E[1]-P[1],e.moveY=E[1]-T[1];var D=Date.now(),O=this._swipePoints||[[],[]];D-((O[1][0]?O[1][0].timestamp:0)||0)>this.swipeDuration&&(O[0]=O[1],O[1]=[]),O[1].push({point:E,timestamp:D}),this._swipePoints=O,this.emit("pan",e)}this.emit("pointerMove",e)}}function oa(t){var e=this,n={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!!Uo()&&!!t.touches},preventDefault:ta.bind(t),stopPropagation:ea.bind(t),stopImmediatePropagation:na.bind(t)};Uo()&&t.touches&&(this._noMouseTimer&&clearTimeout(this._noMouseTimer),this._noMouseTimer=+setTimeout((function(){e._noMouseTimer=0}),this.doubleTapInterval));var r=null,i=null;this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);for(var o,a,u=Wo(t).points,s=0,p=u.length;p>s;++s){var c=u[s];this._pointer0&&this._pointer0.identifier===c.identifier?(this._pointer0.changed=!0,r=this._pointer0,this._pointer0=null):this._pointer1&&this._pointer1.identifier===c.identifier&&(this._pointer1.changed=!0,i=this._pointer1,this._pointer1=null)}if(this._pointer1&&!this._pointer0&&(this._pointer0=this._pointer1,this._pointer1=null,i=r,r=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0),this._pointer0){n.pointers=[this._pointer0],this._pointer1?n.pointers.push(this._pointer1):i&&(n.leavePointers=[i],this._rotateAngle=0);var l=Qo(this._pointer0.start,this._pointer1?this._pointer1.start:i?i.start:[]),f=Qo(this._pointer0.previous,this._pointer1?this._pointer1.previous:i?i.previous:[]),h=Qo(this._pointer0.current,this._pointer1?this._pointer1.current:i?i.current:[]);n.getPoint=function(t){return"start"===t?l:"previous"===t?f:h},this.emit("gestureEnd",n)}else if(r){n.leavePointers=[r],i&&n.leavePointers.push(i);var v=i?Qo(r.start,i.start):r.start,d=i?Qo(r.previous,i.previous):r.previous,m=i?Qo(r.current,i.current):r.current;if(n.getPoint=function(t){return"start"===t?v:"previous"===t?d:m},this._preventTap||(this.emit("tap",n),this._preventTap=!0),this._preventSingleTap||(this._singleTapTimer=+setTimeout((function(){e._singleTapTimer=0,n.delayTime=e.doubleTapInterval,e.emit("singleTap",n)}),this.doubleTapInterval),this._preventSingleTap=!0),!this._preventDoubleTap){var g=this._firstPointer;g&&(n.getPoint=function(){return g.current}),n.intervalTime=this.doubleTapInterval,this.emit("doubleTap",n),this._firstPointer=null,this._preventDoubleTap=!0}if(this._swipePoints){var y=this._swipePoints,_=y[0],b=y[1],w=b[b.length-1];if(Date.now()-w.timestamp<=this.raiseDuration){for(var T=b[0],P=_.length-1;P>=0&&w.timestamp-_[P].timestamp<=this.swipeDuration;P--)T=_[P];var E=(o=w.timestamp-T.timestamp,"number"!=typeof(a=Jo(T.point,w.point))||0===a||"number"!=typeof o||0===o?0:a/o);if(E>this.swipeVelocity){var D=Ko(T.point,w.point);n.direction=Zo(T.point,w.point),n.angle=D,n.velocity=E,n.swipeComputed=function(t,e){void 0===e&&(e=E);var n=0,r=0,i=0;t>1?(r=e/(n=t),i=e*n/2):t>0&&(n=e/(r=t),i=e*e/(2*r));var o=function(t,e){if("number"!=typeof t||"number"!=typeof e)return[0,0];var n=e*Math.PI/180;return[t*Math.cos(n),t*Math.sin(n)]}(i,D);return{duration:n,stretchX:o[0],stretchY:o[1],deceleration:r}},this.emit("swipe",n),this._swipePoints=null}}}}this.emit("pointerEnd",n)}function aa(t){this.emit("pointerCancel",{sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!!Uo()&&!!t.touches},preventDefault:ta.bind(t),stopPropagation:ea.bind(t),stopImmediatePropagation:na.bind(t)}),oa.call(this,t)}function ua(t){var e=this;if(!e._noMouseTimer)if("undefined"!=typeof window&&(window.addEventListener("mousemove",a,{capture:!1,passive:!1}),window.addEventListener("mouseup",u,{capture:!1,passive:!1}),window.addEventListener("blur",o,{capture:!0,passive:!1}),window.addEventListener("dragstart",i,{capture:!0,passive:!1}),"onselectstart"in window.document.documentElement&&window.addEventListener("selectstart",i,{capture:!0,passive:!1})),0===t.button)ra.call(e,t);else{e._wheelTimerEnd&&(clearTimeout(e._wheelTimerEnd.timer),e._wheelTimerEnd.wheelEnd(),e._wheelTimerEnd=null);var n=[t.pageX,t.pageY];e._pointer0={start:n,previous:n,current:n,identifier:-1,changed:!0}}function r(){"undefined"!=typeof window&&(window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",u),window.removeEventListener("blur",o),window.removeEventListener("dragstart",i),"onselectstart"in window.document.documentElement&&window.removeEventListener("selectstart",i))}function i(t){t.preventDefault()}function o(t){i(t),r()}function a(n){if(0===t.button)ia.call(e,n);else{var r={sourceEvent:n,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!1},preventDefault:ta.bind(n),stopPropagation:ea.bind(n),stopImmediatePropagation:na.bind(n)},i=[n.pageX,n.pageY];if(e._pointer0&&Jo(e._pointer0.start,i)>e.touchMoveDistance){e._pointer0.previous=e._pointer0.current,e._pointer0.current=i,r.pointers=[e._pointer0];var o=e._pointer0,a=o.start,u=o.previous,s=o.current;r.getPoint=function(t){return"start"===t?a:"previous"===t?u:s},r.direction=Zo(u,s),r.moveDirection=Zo(a,s),r.deltaX=s[0]-u[0],r.moveX=s[0]-a[0],r.deltaY=s[1]-u[1],r.moveY=s[1]-a[1],r.angle=r.deltaX/4,r.moveAngle=r.moveX/4,e.emit("rotate",r)}}}function u(n){if(r(),0===t.button)oa.call(e,n);else{var i={sourceEvent:n,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!1},preventDefault:ta.bind(n),stopPropagation:ea.bind(n),stopImmediatePropagation:na.bind(n)},o=[n.pageX,n.pageY];if(e._pointer0){var a=e._pointer0;e._pointer0=null,a.previous=a.current,a.current=o,i.leavePointers=[a];var u=a.start,s=a.previous,p=a.current;i.getPoint=function(t){return"start"===t?u:"previous"===t?s:p}}i.angle=NaN,e.emit("rotate",i)}}}function sa(t){var e=this,n={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!1},preventDefault:ta.bind(t),stopPropagation:ea.bind(t),stopImmediatePropagation:na.bind(t)},r=[t.pageX,t.pageY];this._wheelTimerEnd?(this._pointer0&&(this._pointer0.previous=this._pointer0.current,this._pointer0.current=r),clearTimeout(this._wheelTimerEnd.timer)):this._pointer0={start:r,previous:r,current:r,identifier:-1,changed:!0};var i=function(){e._pointer0=null,e._wheelTimerEnd=null,n.timestamp=Date.now(),n.scale=NaN,e.emit("scale",n)};if(this._wheelTimerEnd={wheelEnd:i,timer:+setTimeout(i,this.wheelDelay),scale:this._wheelTimerEnd?this._wheelTimerEnd.scale:1},this._pointer0){n.pointers=[this._pointer0];var o=this._pointer0,a=o.start,u=o.previous,s=o.current;n.getPoint=function(t){return"start"===t?a:"previous"===t?u:s};var p=Math.pow(2,-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002));this._wheelTimerEnd.scale*=p,n.moveScale=this._wheelTimerEnd.scale,n.scale=p,this.emit("scale",n)}}exports.default=function(e){function n(n,r){var i;(i=e.call(this,r)||this).element=null,i._unbind=null;var o,a,u=(a=o=n,"string"==typeof o&&(a=document.querySelector(o)),"function"==typeof o&&(a=o()),a||null);if(!u)throw Error("Please pass in a valid element...");i.element=u;var s=function(){};if(Uo()){var p=ra.bind(t(i)),c=ia.bind(t(i)),l=oa.bind(t(i)),f=aa.bind(t(i));u.addEventListener("touchstart",p,{capture:!1,passive:!1}),u.addEventListener("touchmove",c,{capture:!1,passive:!1}),u.addEventListener("touchend",l,{capture:!1,passive:!1}),u.addEventListener("touchcancel",f,{capture:!1,passive:!1}),s=function(){u.removeEventListener("touchstart",p),u.removeEventListener("touchmove",c),u.removeEventListener("touchend",l),u.removeEventListener("touchcancel",f)}}var h=ua.bind(t(i)),v=sa.bind(t(i));return u.addEventListener("mousedown",h,{capture:!1,passive:!1}),u.addEventListener("wheel",v,{capture:!1,passive:!1}),i._unbind=function(){u.removeEventListener("mousedown",h),u.removeEventListener("wheel",v),s()},i}return Hr(n,e),n.prototype.destory=function(){e.prototype.off.call(this),this._unbind&&(this._unbind(),this._unbind=null,this.element=null)},n}($o);
//# sourceMappingURL=gesture.min.js.map
