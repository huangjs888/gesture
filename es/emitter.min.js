class e{constructor(){this.events={},this.events={}}one(e,s,o){const l="function"==typeof s?(...t)=>{s.apply(null,t),this.off(e,l,o)}:s;this.on(e,l,o)}on(e,s,o){const l=this.events[e]||{pool:[],single:-1};if("function"==typeof s)if(o)-1===l.single?l.single=l.pool.push(s)-1:l.pool[l.single]=s;else{let e=!0;for(let o=0,t=l.pool.length;t>o;o++)if(l.pool[o]===s&&o!==l.single){e=!1;break}e&&l.pool.push(s)}else o&&-1!==l.single&&(l.pool.splice(l.single,1),l.single=-1);this.events[e]=l}off(e,s,o){if(void 0===e)this.events={};else if(void 0===s)delete this.events[e];else if(o){const s=this.events[e];s&&-1!==s.single&&(s.pool.splice(s.single,1),s.single=-1)}else{const o=this.events[e];if(o)for(let e=o.pool.length-1;e>=0;e--)if(o.pool[e]===s&&e!==o.single){o.pool.splice(e,1);break}}}emit(e,s){const o=this.events[e];if(o)for(let l=0,t=o.pool.length;t>l;l++){const t=o.pool[l];if("function"==typeof t){if(!1===t.call(null,s,e))break}}}}export{e as default};
//# sourceMappingURL=emitter.min.js.map
